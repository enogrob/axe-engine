#!C:\ruby\bin\ruby.exe

# Copyright (C) 2005 by Ericsson Serviços de Telecomunicações Ltda.
# Project  : 
# Prepared : EBS/HD/SB Roberto Nogueira
# Date     : 2006-03-23
# Revision : PA10
# Doc.Nr   : 
# Approved : EBS/HD/S  Bjorn Arvidsson
# Checked  : EBS/HD/SB Zoran Ovuka
# File     : bradesco.rb

# Purpose  : Used to provide the Bradesco classes.

class TBradesco
  attr_reader :data, :pins, :letters, :phrase, :tcaps
  def initialize
    @data = [
      ['316-6', '108665-0', '19 3875-9955']
    ]
    @tcaps = [
      ['Clique Facil', 'ROBERTO LUIZ M. NOGUEIRA', 'PM 60/60A',
       '0220-8/1001432-6', '008603897', '10,00', '15/12/2005', '60 MESES',
        ['01 10 18 24 31 48',
         '02 06 18 26 41 47',
         '03 05 06 18 29 39',
         '03 23 31 32 36 42',
         '04 19 35 41 42 44',
         '05 23 27 34 42 46',
         '07 09 12 24 26 29',
         '08 15 17 20 26 38',
         '10 13 31 34 42 48',
         '12 20 21 25 38 40',
         '16 19 21 35 39 47',
         '30 35 37 43 45 48'
        ]
      ],
      ['Clique Facil', 'ROBERTO LUIZ M. NOGUEIRA', 'PM 60/60A',
       '0220-8/1002438-0', '008605607', '10,00', '15/02/2006', '60 MESES',
        ['01 10 18 28 43 44',
         '02 06 18 33 34 38',
         '03 05 06 21 23 39',
         '03 23 32 37 41 48',
         '04 20 21 22 35 38',
         '05 23 28 33 37 43',
         '07 09 12 28 32 40',
         '08 15 17 23 27 47',
         '10 13 33 34 41 45',
         '12 20 21 30 46 47',
         '16 19 22 25 31 38',
         '30 37 39 41 46 48'
        ]
      ],
      ['Clique Facil', 'ROBERTO LUIZ M. NOGUEIRA', 'PM 60/60A',
       '0220-8/1001588-8', '008604330', '10,00', '02/01/2006', '60 MESES',
        ['01 10 18 25 26 46',
         '02 06 18 27 36 38',
         '03 05 06 18 41 45',
         '03 23 31 03 41 48',
         '04 19 36 39 40 42',
         '05 23 27 36 45 46',
         '07 09 12 24 34 45',
         '08 15 17 20 35 41',
         '10 13 31 36 45 48',
         '12 20 21 26 32 40',
         '16 19 21 37 46 47',
         '30 35 39 40 45 46'
        ]
      ],
      ['Independencia', 'ROBERTO LUIZ M. NOGUEIRA', 'PM 60/60B',
       '0051-5/0424966-6', '008603898', '30,00', '15/12/2005', '60 MESES',
        ['01 04 20 27 30 41',
         '01 09 20 34 37 39',
         '01 21 29 31 37 42',
         '02 06  8 22 32 38',
         '02 12 13 18 37 40',
         '03 04 13 15 34 42',
         '03 09 13 18 19 23',
         '03 19 31 38 39 44',
         '04 08 16 25 26 28',
         '04 17 23 24 34 47',
         '05 09 12 28 30 41',
         '05 19 28 29 35 46',
         '06 11 18 31 41 47',
         '07 08 15 21 26 43',
         '07 17 20 34 41 43',
         '08 13 23 37 41 45',
         '09 12 19 28 40 44',
         '10 12 22 32 39 42',
         '11 14 16 22 23 36',
         '12 17 23 36 41 43',
         '14 15 16 29 33 36',
         '15 38 39 42 44 47',
         '18 34 35 37 45 48',
         '26 30 32 35 37 43'
        ]
      ],
      ['Independencia', 'ROBERTO LUIZ M. NOGUEIRA', 'PM 60/60B',
       '0051-5/0426667-6', '0086004331', '30,00', '02/01/2006', '60 MESES',
        ['01 04 21 22 33 39',
         '01 09 21 26 33 41',
         '01 21 31 33 35 45',
         '02 06 08 29 37 43',
         '02 12 13 23 32 46',
         '03 04 13 19 28 40',
         '03 09 13 22 28 48',
         '03 19 35 38 45 47',
         '04 08 16 35 40 41',
         '04 17 23 34 38 42',
         '05 09 13 14 30 41',
         '05 19 29 35 40 45',
         '06 11 19 22 37 48',
         '07 08 15 27 32 38',
         '07 17 21 26 36 40',
         '08 13 24 33 37 46',
         '09 12 20 22 31 37',
         '10 12 23 28 37 42',
         '11 14 16 28 36 43',
         '12 17 24 32 44 45',
         '14 15 17 19 27 32',
         '16 17 18 22 30 37',
         '18 36 37 40 44 48',
         '26 30 37 38 42 48'
        ]
      ],
      ['100', 'ROBERTO LUIZ M. NOGUEIRA', 'PU 36/001 B',
       '0150-3/1285854-3', '001819540', '100,00', '06/09/2005', '36 MESES',
        ['01 15 25 30 35 48',
         '02 21 30 39 41 43',
         '04 06 27 29 33 47',
         '05 14 26 30 47 48',
         '07 13 18 33 41 47',
         '09 24 25 29 43 46',
         '13 18 22 34 39 40',
         '22 28 34 35 37 39'
        ]
      ],
      ['100', 'ROBERTO LUIZ M. NOGUEIRA', 'PU 36/001 B',
       '0150-3/1385693-5', '008603896', '100,00', '15/12/2005', '36 MESES',
        ['01 18 29 30 38 45',
         '03 04 06 11 33 41',
         '04 07 26 28 39 48',
         '05 17 22 26 31 37',
         '07 15 22 34 41 44',
         '10 11 21 29 41 42',
         '13 23 28 41 42 48',
         '24 29 34 42 46 48'
        ]
      ],
      ['100', 'ROBERTO LUIZ M. NOGUEIRA', 'PU 36/001 B',
       '0150-3/1485346-8', '002094599', '100,00', '15/03/2006', '36 MESES',
        ['01 24 28 36 41 45',
         '03 04 21 22 44 45',
         '04 08 38 43 44 46',
         '05 21 27 37 42 48',
         '07 18 25 26 32 47',
         '10 13 18 22 30 48',
         '14 16 17 19 32 35',
         '28 30 38 41 42 43'
        ]
      ],
      ['Grande Premio', 'ROBERTO LUIZ M. NOGUEIRA', 'PU 48/001 A',
       '0095-7/0103610-8', '008603899', '100,00', '15/12/2005', '48 MESES',
        ['01 02 13 14 26 48',
         '01 12 18 23 44 48',
         '02 07 28 32 40 48',
         '03 06 07 24 46 47',
         '04 05 13 23 35 38',
         '05 06 07 16 19 34',
         '06 07 16 45 46 48',
         '07 10 25 27 45 46',
         '08 18 28 38 39 41',
         '10 16 34 37 38 48',
         '13 14 16 21 22 32',
         '16 29 39 40 43 44'
        ]
      ],
      ['Grande Premio', 'ROBERTO LUIZ M. NOGUEIRA', 'PU 48/001 A',
       '0095-7/0105931-0', '008604332', '100,00', '02/01/2006', '48 MESES',
        ['01 02 13 19 26 39',
         '01 12 19 20 21 36',
         '02 07 30 41 42 46',
         '03 06 08 09 18 37',
         '04 05 13 40 43 47',
         '05 06 07 21 32 34',
         '06 07 17 24 31 32',
         '07 10 26 33 34 40',
         '08 18 31 35 41 48',
         '10 17 18 21 41 44',
         '13 14 16 30 32 39',
         '16 30 35 36 47 48'
        ]
      ],
      ['Grande Premio', 'ROBERTO LUIZ M. NOGUEIRA', 'PU 48/001 A',
       '0095-7/0110099-0', '008606036', '100,00', '15/03/2006', '48 MESES',
        ['01 02 14 15 25 47',
         '01 12 20 22 31 37',
         '02 08 09 11 23 35',
         '03 06 08 16 18 26',
         '04 05 14 25 33 41',
         '05 06 08 10 22 38',
         '06 07 18 24 39 40',
         '07 10 30 32 35 45',
         '08 19 20 25 41 45',
         '10 17 19 23 31 48',
         '13 14 17 28 32 36',
         '16 32 35 36 40 44'
        ]
      ]
    ]
    @key = {'01' => '422', '11' => '511', '21' => '216', '31' => '507', '41' => '421', '51' => '153', '61' => '638',
            '02' => '983', '12' => '356', '22' => '170', '32' => '551', '42' => '736', '52' => '815', '62' => '231',
            '03' => '604', '13' => '922', '23' => '065', '33' => '423', '43' => '045', '53' => '243', '63' => '396',
            '04' => '394', '14' => '812', '24' => '393', '34 '=> '049', '44' => '928', '54' => '460', '64' => '362',
            '05' => '334', '15' => '306', '25' => '202', '35' => '256', '45' => '465', '55' => '389', '65' => '244',
            '06' => '655', '16' => '586', '26' => '296', '36' => '439', '46' => '257', '56' => '498', '66' => '402',
            '07' => '146', '17' => '751', '27' => '140', '37 '=> '631', '47' => '729', '57' => '166', '67' => '742',
            '08' => '582', '18' => '145', '28' => '020', '38' => '502', '48' => '966', '58' => '411', '68' => '162',
            '09' => '282', '19' => '483', '29' => '895', '39' => '205', '49' => '429', '59' => '251', '69' => '235',
            '10' => '201', '20' => '461', '30' => '181', '40' => '769', '50' => '241', '60' => '175', '70' => '255'}
  end
  def print_data
    puts "AGENCIA  C.C.       TELEFONE"
    @data.each {|a, b, c| printf "%-9s%-11s%-14s",a ,b ,c}
  end
  def print_tcaps
    @tcaps.each do | type, name, plan, control_nr, proposal_nr, value, vigency, vigency_term, combinations|
      puts "Nome do Titular    : #{name}"
      puts "Plano              : #{plan}"
      puts "Número de Controle : #{control_nr}"
      puts "Número da Proposta : #{proposal_nr}"
      case type
        when 'Clique Facil',
             'Independencia' then
          puts "Valor da M. Inicial: #{value}"
        when '100',
             'Grande Premio' then
          puts "Valor do Pag. Unico: #{value}"
      end
      puts "Inicio da Vigencia : #{vigency}"
      puts "Prazo de Vigencia  : #{vigency_term}"
      puts
    end
  end
  def match_tcaps?(a_result)
    a_result = a_result.split
    
    @tcaps.each do | type, name, plan, control_nr, proposal_nr, value, vigency, vigency_term, combs|
      combs.each do |a_comb|
        rights_cnt=0
        a_result.each do |a_tenth|
          rights_cnt+=1 if a_comb.include?(a_tenth)
        end
        printf "%-19s%-20s%-18sMatch: %-3s\n",
          a_comb ,type, control_nr, rights_cnt if rights_cnt > 2 
      end
    end
  end
  def get_key(a_keynr)
    @key[a_keynr]
  end
end



